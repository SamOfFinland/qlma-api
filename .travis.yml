language: clojure
jdk:
  - oraclejdk8
addons:
      postgresql: "9.3"
install: 
      - cd ./src/client/ && npm install
      - cd ./src/client/ && npm install -g gulp
      - cd ./src/client/ && npm install -g gulp-util
before_script:
      - cd $TRAVIS_BUILD_DIR
      - psql -c "create role qlma with login password '' createdb;" -U postgres
      - psql -c "create database qlma;" -U postgres
      - gulp build-prod
      - mkdir ./resources/public/
      - cp -R ./src/client/public/* ./resouces/public/
notifications:
      slack: qlma:06eKEWnITmDIHWgEyvlqqfIq